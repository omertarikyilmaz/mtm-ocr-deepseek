<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MTM OCR - Medya Takip Merkezi</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>MTM OCR</h1>
            <p>Gazete sayfalarÄ±nÄ±zÄ± analiz edin - Her kelimenin konumunu tespit edin</p>
            
            <!-- Tab Navigation -->
            <div style="margin-top: 30px; display: flex; gap: 10px; border-bottom: 2px solid #e5e7eb;">
                <button class="tab-btn active" onclick="switchTab('ocr')">
                    ğŸ“„ OCR Ä°ÅŸleme
                </button>
                <button class="tab-btn" onclick="switchTab('search')">
                    ğŸ” Kelime Arama
                </button>
            </div>
        </div>
        
        <!-- OCR Tab -->
        <div id="ocrTab" class="tab-content active">
            <!-- Upload Section -->
            <div class="card">
                <h2>Gazete YÃ¼kle</h2>
                
                <div class="upload-zone" id="uploadZone">
                    <div class="upload-icon">ğŸ“„</div>
                    <div class="upload-text">Gazete sayfalarÄ±nÄ± buraya sÃ¼rÃ¼kleyin</div>
                    <div class="upload-hint">veya tÄ±klayarak dosya seÃ§in (JPG, JPEG, PNG)</div>
                </div>
                
                <input type="file" id="fileInput" multiple accept="image/jpeg,image/jpg,image/png" class="hidden">
                
                <div id="fileList" class="file-list"></div>
                
                <div style="margin-top: 20px; display: flex; gap: 10px;">
                    <button class="btn" id="processBtn" disabled>OCR Ä°ÅŸlemini BaÅŸlat</button>
                    <button class="btn btn-secondary" id="clearBtn" disabled>Temizle</button>
                </div>
                
                <div id="statusBox" class="status-box">
                    <div id="statusMessage">Ä°ÅŸlem bekleniyor...</div>
                    <div class="progress-bar">
                        <div id="progressFill" class="progress-fill">0%</div>
                    </div>
                </div>
            </div>
            
            <!-- Results Section -->
            <div class="card">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 24px;">
                    <h2>Ä°ÅŸlenmiÅŸ Gazeteler</h2>
                    <div style="display: flex; gap: 10px;">
                        <button class="btn btn-secondary" id="refreshBtn">Yenile</button>
                        <button class="btn btn-danger" id="deleteAllBtn">TÃ¼mÃ¼nÃ¼ Sil</button>
                    </div>
                </div>
                <div id="resultsGrid" class="results-grid"></div>
            </div>
        </div>
        
        <!-- Search Tab -->
        <div id="searchTab" class="tab-content">
            <div class="card">
                <h2>ğŸ” Kelime Arama ve GÃ¶rselleÅŸtirme</h2>
                <p style="color: #6b7280; margin-bottom: 20px;">
                    Ä°ÅŸlenmiÅŸ gazetelerde anahtar kelimeleri arayÄ±n ve gÃ¶rsellerde vurgulayÄ±n
                </p>
                
                <!-- Keyword Input -->
                <div style="margin-bottom: 20px;">
                    <label style="display: block; font-weight: 600; margin-bottom: 8px; color: #1f2937;">
                        Anahtar Kelimeler (virgÃ¼lle ayÄ±rÄ±n)
                    </label>
                    <input 
                        type="text" 
                        id="keywordInput" 
                        placeholder="Ã–rnek: merhaba, dÃ¼nya, gazete, haber"
                        style="width: 100%; padding: 12px; border: 2px solid #e5e7eb; border-radius: 8px; font-size: 15px;"
                    />
                    <p style="color: #6b7280; font-size: 13px; margin-top: 8px;">
                        ğŸ’¡ Ä°pucu: Birden fazla kelime aramak iÃ§in virgÃ¼lle ayÄ±rÄ±n
                    </p>
                </div>
                
                <!-- Search Options -->
                <div style="margin-bottom: 20px;">
                    <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                        <input type="checkbox" id="searchAllFiles" checked style="width: 18px; height: 18px;">
                        <span style="font-weight: 500; color: #1f2937;">TÃ¼m iÅŸlenmiÅŸ gazetelerde ara</span>
                    </label>
                </div>
                
                <!-- Search Button -->
                <button class="btn" id="searchBtn" onclick="performKeywordSearch()">
                    ğŸ” Ara ve GÃ¶rselleÅŸtir
                </button>
                
                <!-- Search Results -->
                <div id="searchResults" style="margin-top: 30px; display: none;">
                    <h3 style="color: #1f2937; margin-bottom: 15px;">Arama SonuÃ§larÄ±</h3>
                    <div id="searchStats" style="background: #f8f9fa; padding: 15px; border-radius: 8px; margin-bottom: 20px;"></div>
                    <div id="searchResultsContainer"></div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Result Modal -->
    <div id="resultModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <button class="modal-close" id="modalClose">Ã—</button>
                <h2 id="modalTitle">SonuÃ§ DetaylarÄ±</h2>
            </div>
            <div class="modal-body" id="modalBody"></div>
        </div>
    </div>
    
    <!-- JavaScript Modules -->
    <script src="{{ url_for('static', filename='js/common.js') }}"></script>
    <script src="{{ url_for('static', filename='js/ocr.js') }}"></script>
    <script src="{{ url_for('static', filename='js/search.js') }}"></script>
</body>
</html>
